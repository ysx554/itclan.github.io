(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{453:function(t,a,s){"use strict";s.r(a);var e=s(65),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"firmware"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#firmware"}},[t._v("#")]),t._v(" Firmware")]),t._v(" "),s("h2",{attrs:{id:"sets-firmware-listener"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sets-firmware-listener"}},[t._v("#")]),t._v(" Sets firmware listener")]),t._v(" "),s("div",{staticClass:"language-dart extra-class"},[s("pre",{pre:!0,attrs:{class:"language-dart"}},[s("code",[t._v("_blePlugin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("oTAEveStm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OTABean")]),t._v(" event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// Do something with new state,for example:")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OTAProgressType")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("downloadStart"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OTAProgressType")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("downloadComplete"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OTAProgressType")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("progressStart"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OTAProgressType")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("progressChanged"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                _upgradeProgress "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("upgradeProgress"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OTAProgressType")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("upgradeCompleted"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OTAProgressType")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("upgradeAborted"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OTAProgressType")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                _upgradeError "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("upgradeError"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("OTABean：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("callback value")]),t._v(" "),s("th",[t._v("callback  value")]),t._v(" "),s("th",[t._v("callback  value description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("type")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("Gets the type of the callback return value, where Type is the value corresponding to OTAProgressType")])]),t._v(" "),s("tr",[s("td",[t._v("upgradeProgress")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("Upgrade progress")])]),t._v(" "),s("tr",[s("td",[t._v("upgradeError")]),t._v(" "),s("td",[t._v("UpgradeErrorBean")]),t._v(" "),s("td",[t._v("Firmware upgrade error data is reported")])])])]),t._v(" "),s("p",[t._v("UpgradeErrorBean:")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("callback value")]),t._v(" "),s("th",[t._v("callback  value")]),t._v(" "),s("th",[t._v("callback  value description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("error")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("error type")])]),t._v(" "),s("tr",[s("td",[t._v("errorContent")]),t._v(" "),s("td",[t._v("String")]),t._v(" "),s("td",[t._v("error content")])])])]),t._v(" "),s("p",[t._v("OTAProgressType:")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("type")]),t._v(" "),s("th",[t._v("value")]),t._v(" "),s("th",[t._v("value description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("downloadStart")]),t._v(" "),s("td",[t._v("1")]),t._v(" "),s("td",[t._v("Firmware version download starts")])]),t._v(" "),s("tr",[s("td",[t._v("downloadComplete")]),t._v(" "),s("td",[t._v("2")]),t._v(" "),s("td",[t._v("Firmware version download complete")])]),t._v(" "),s("tr",[s("td",[t._v("progressStart")]),t._v(" "),s("td",[t._v("3")]),t._v(" "),s("td",[t._v("OTA start")])]),t._v(" "),s("tr",[s("td",[t._v("progressChanged")]),t._v(" "),s("td",[t._v("4")]),t._v(" "),s("td",[t._v("OTA process changes")])]),t._v(" "),s("tr",[s("td",[t._v("upgradeCompleted")]),t._v(" "),s("td",[t._v("5")]),t._v(" "),s("td",[t._v("OTA completed")])]),t._v(" "),s("tr",[s("td",[t._v("upgradeAborted")]),t._v(" "),s("td",[t._v("6")]),t._v(" "),s("td",[t._v("OTA abort")])]),t._v(" "),s("tr",[s("td",[t._v("error")]),t._v(" "),s("td",[t._v("7")]),t._v(" "),s("td",[t._v("OTA error")])])])]),t._v(" "),s("h2",{attrs:{id:"gets-firmware-version"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gets-firmware-version"}},[t._v("#")]),t._v(" Gets firmware version")]),t._v(" "),s("p",[t._v("Gets the current firmware version of the watch.")]),t._v(" "),s("div",{staticClass:"language-dart extra-class"},[s("pre",{pre:!0,attrs:{class:"language-dart"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" firmwareVersion "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" _blePlugin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("queryFirmwareVersion"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"check-firmware"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#check-firmware"}},[t._v("#")]),t._v(" Check firmware")]),t._v(" "),s("p",[t._v("Gets the latest version information.")]),t._v(" "),s("div",{staticClass:"language-dart extra-class"},[s("pre",{pre:!0,attrs:{class:"language-dart"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CheckFirmwareVersionBean")]),t._v(" bean "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" _blePlugin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("checkFirmwareVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FirmwareVersion")]),t._v(" info"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("Parameter Description :")]),t._v(" "),s("p",[t._v("FirmwareVersion:")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("value")]),t._v(" "),s("th",[t._v("value type")]),t._v(" "),s("th",[t._v("value description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("version")]),t._v(" "),s("td",[t._v("String")]),t._v(" "),s("td",[t._v("Get through _blePlugin.queryFirmwareVersion;")])]),t._v(" "),s("tr",[s("td",[t._v("otaType")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("Upgrade type, from OTAType")])])])]),t._v(" "),s("p",[t._v("OTAType：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("value")]),t._v(" "),s("th",[t._v("value type")]),t._v(" "),s("th",[t._v("value description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("normalUpgeadeType")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("normal upgeade")])]),t._v(" "),s("tr",[s("td",[t._v("betaUpgradeType")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("beta upgrade")])]),t._v(" "),s("tr",[s("td",[t._v("forcedUpdateType")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("forced update")])])])]),t._v(" "),s("p",[t._v("Callback Description:")]),t._v(" "),s("p",[t._v("CheckFirmwareVersionBean")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("callback value")]),t._v(" "),s("th",[t._v("callback value type")]),t._v(" "),s("th",[t._v("callback value description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("firmwareVersionInfo")]),t._v(" "),s("td",[t._v("FirmwareVersionBean")]),t._v(" "),s("td",[t._v("The latest version information")])]),t._v(" "),s("tr",[s("td",[t._v("isLatestVersion")]),t._v(" "),s("td",[t._v("bool")]),t._v(" "),s("td",[t._v("Check whether the information is the latest version")])])])]),t._v(" "),s("p",[t._v("FirmwareVersionBean：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("ack value")]),t._v(" "),s("th",[t._v("callback value type")]),t._v(" "),s("th",[t._v("callback value description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("version")]),t._v(" "),s("td",[t._v("String")]),t._v(" "),s("td",[t._v("Current firmware version number of the watch")])]),t._v(" "),s("tr",[s("td",[t._v("changeNotes")]),t._v(" "),s("td",[t._v("String")]),t._v(" "),s("td",[t._v("change note")])]),t._v(" "),s("tr",[s("td",[t._v("changeNotesEn")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("english change note")])]),t._v(" "),s("tr",[s("td",[t._v("type")]),t._v(" "),s("td",[t._v("bool")]),t._v(" "),s("td",[t._v("Upgrade type, same as OTAType")])]),t._v(" "),s("tr",[s("td",[t._v("mcu")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("MCU type, used to distinguish upgrade mode")])]),t._v(" "),s("tr",[s("td",[t._v("tpUpgrade")]),t._v(" "),s("td",[t._v("String")]),t._v(" "),s("td",[t._v("Whether you need to upgrade tp, the default is false")])])])]),t._v(" "),s("p",[t._v("OTAType：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("value")]),t._v(" "),s("th",[t._v("value type")]),t._v(" "),s("th",[t._v("value description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("normalUpgeadeType")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("normal upgeade")])]),t._v(" "),s("tr",[s("td",[t._v("betaUpgradeType")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("beta upgrade")])]),t._v(" "),s("tr",[s("td",[t._v("forcedUpdateType")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("forced update")])])])]),t._v(" "),s("h2",{attrs:{id:"satrt-ota"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#satrt-ota"}},[t._v("#")]),t._v(" Satrt OTA")]),t._v(" "),s("p",[s("strong",[t._v("Android partial support.")]),s("br"),t._v("\nThe firmware upgrade is divided into four upgrade methods.The calling method is as follows:")]),t._v(" "),s("p",[t._v("Note: There is no first and second upgrade methods on the ios side.")]),t._v(" "),s("div",{staticClass:"language-dart extra-class"},[s("pre",{pre:!0,attrs:{class:"language-dart"}},[s("code",[t._v("_blePlugin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("startOTA")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OtaBean")]),t._v(" info"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("Parameter Description :")]),t._v(" "),s("p",[t._v("OtaBean:")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("value")]),t._v(" "),s("th",[t._v("value type")]),t._v(" "),s("th",[t._v("value description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("address")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("The mac address of the device")])]),t._v(" "),s("tr",[s("td",[t._v("type")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("The type of firmware upgrade method obtained by the mcu obtained according to the firmware version of the device,the value is OTAMcuType")])])])]),t._v(" "),s("p",[t._v("OTAMcuType:")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("type")]),t._v(" "),s("th",[t._v("value")]),t._v(" "),s("th",[t._v("value description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("otaFirst")]),t._v(" "),s("td",[t._v("1")]),t._v(" "),s("td",[t._v("The first way to upgrade")])]),t._v(" "),s("tr",[s("td",[t._v("otaSecond")]),t._v(" "),s("td",[t._v("2")]),t._v(" "),s("td",[t._v("The second way to upgrade")])]),t._v(" "),s("tr",[s("td",[t._v("otaThird")]),t._v(" "),s("td",[t._v("3")]),t._v(" "),s("td",[t._v("The third way to upgrade")])]),t._v(" "),s("tr",[s("td",[t._v("otaFour")]),t._v(" "),s("td",[t._v("4")]),t._v(" "),s("td",[t._v("The four way to upgrade")])])])]),t._v(" "),s("p",[t._v("the upgrade method is determined according to the mcu value in the firmware version information of the current watch.")]),t._v(" "),s("p",[t._v("The mcu value of the firmware version is obtained by the checkFirmwareVersion method.")]),t._v(" "),s("div",{staticClass:"language-dart extra-class"},[s("pre",{pre:!0,attrs:{class:"language-dart"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mcu"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    oTAType "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OTAMcuType")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("otaFirst"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("///The first way to upgrade,<Only android support>")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" _blePlugin\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("startOTA")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OtaBean")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("address"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" address"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OTAMcuType")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("otaFirst"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("71")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("72")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    oTAType "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OTAMcuType")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("otaSecond"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("///The second way to upgrade,<Only android support>")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" _blePlugin\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("startOTA")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OtaBean")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("address"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" address"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OTAMcuType")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("otaSecond"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    oTAType "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OTAMcuType")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("otaThird"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("///The third way to upgrade")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" _blePlugin\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("startOTA")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OtaBean")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("address"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" address"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OTAMcuType")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("otaThird"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    oTAType "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OTAMcuType")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("otaFour"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("///The four way to upgrade")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" _blePlugin\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("startOTA")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OtaBean")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("address"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" address"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OTAMcuType")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("otaFour"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("Note: When it is the first upgrade method, the address uses the mac address in the OTA upgrade mode obtained through _blePlugin.queryDeviceOtaStatus;")]),t._v(" "),s("h2",{attrs:{id:"abort-ota"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#abort-ota"}},[t._v("#")]),t._v(" Abort OTA")]),t._v(" "),s("p",[s("strong",[t._v("Android partial support.")]),s("br"),t._v("\nFirmware abort is divided into three methods. Among them, the third upgrade method and the fourth upgrade method share a suspension method")]),t._v(" "),s("p",[t._v("Abort the firmware upgrade by the upgrade type obtained when the firmware version was upgraded.")]),t._v(" "),s("p",[t._v("Note: The ios side does not support the first and second upgrade methods, that is, the OTAMcuType parameter does not support the values of otaFirst and otaSecond.")]),t._v(" "),s("div",{staticClass:"language-dart extra-class"},[s("pre",{pre:!0,attrs:{class:"language-dart"}},[s("code",[t._v("_blePlugin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("abortOTA")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OTAMcuType")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"watch-ota-status"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#watch-ota-status"}},[t._v("#")]),t._v(" Watch OTA status")]),t._v(" "),s("p",[s("strong",[t._v("Only android support")]),s("br")]),t._v(" "),s("div",{staticClass:"language-dart extra-class"},[s("pre",{pre:!0,attrs:{class:"language-dart"}},[s("code",[t._v("int deviceDfuStatus "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" _blePlugin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("queryDeviceOtaStatus"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"gets-hs-ota-address"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gets-hs-ota-address"}},[t._v("#")]),t._v(" Gets HS OTA address")]),t._v(" "),s("p",[t._v("Get the mac address in OTA mode.")]),t._v(" "),s("div",{staticClass:"language-dart extra-class"},[s("pre",{pre:!0,attrs:{class:"language-dart"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" hsDfuAddress "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" _blePlugin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("queryHsOtaAddress"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"enable-hs-ota"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#enable-hs-ota"}},[t._v("#")]),t._v(" Enable HS OTA")]),t._v(" "),s("div",{staticClass:"language-dart extra-class"},[s("pre",{pre:!0,attrs:{class:"language-dart"}},[s("code",[t._v("_blePlugin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("enableHsOta"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"gets-goodix-ota-type"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gets-goodix-ota-type"}},[t._v("#")]),t._v(" Gets goodix OTA type")]),t._v(" "),s("div",{staticClass:"language-dart extra-class"},[s("pre",{pre:!0,attrs:{class:"language-dart"}},[s("code",[t._v("int type "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" _blePlugin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("queryOtaType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);