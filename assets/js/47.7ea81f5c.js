(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{467:function(t,e,a){"use strict";a.r(e);var s=a(65),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"sleep"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sleep"}},[t._v("#")]),t._v(" Sleep")]),t._v(" "),a("h2",{attrs:{id:"sets-sleep-listener"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sets-sleep-listener"}},[t._v("#")]),t._v(" Sets sleep listener")]),t._v(" "),a("p",[t._v('Sets up a sleep monitor sleepChangeEveStm, and save the returned value in "event" with the value of the SleepBean object.')]),t._v(" "),a("div",{staticClass:"language-dart extra-class"},[a("pre",{pre:!0,attrs:{class:"language-dart"}},[a("code",[t._v("      _blePlugin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sleepChangeEveStm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SleepBean")]),t._v(" event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// Do something with new state,for example:")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SleepType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sleepChange"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                _totalTime "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sleepInfo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("totalTime"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                _restfulTime "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sleepInfo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("restfulTime"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                _lightTime "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sleepInfo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lightTime"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                _soberTime "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sleepInfo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("soberTime"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                _remTime "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sleepInfo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("remTime"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n              "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SleepType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("historySleepChange"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                _timeType "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("historySleep"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timeType"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                _totalTime "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("historySleep"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sleepInfo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("totalTime"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                _restfulTime "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("historySleep"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sleepInfo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("restfulTime"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                _lightTime "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("historySleep"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sleepInfo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lightTime"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                _soberTime "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("historySleep"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sleepInfo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("soberTime"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                _remTime "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("historySleep"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sleepInfo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("remTime"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n              "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("p",[t._v("Callback Description(event):")]),t._v(" "),a("p",[t._v("SleepBean：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("callback value")]),t._v(" "),a("th",[t._v("callback value type")]),t._v(" "),a("th",[t._v("callback value description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("type")]),t._v(" "),a("td",[t._v("int")]),t._v(" "),a("td",[t._v("Weather change return value type, the type is SleepType")])]),t._v(" "),a("tr",[a("td",[t._v("sleepInfo")]),t._v(" "),a("td",[t._v("SleepInfo")]),t._v(" "),a("td",[t._v("Current sleep information")])]),t._v(" "),a("tr",[a("td",[t._v("historySleep")]),t._v(" "),a("td",[t._v("HistorySleepBean")]),t._v(" "),a("td",[t._v("Historical sleep information")])])])]),t._v(" "),a("p",[t._v("SleepType:")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("type")]),t._v(" "),a("th",[t._v("value")]),t._v(" "),a("th",[t._v("value description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("sleepChange")]),t._v(" "),a("td",[t._v("1")]),t._v(" "),a("td",[t._v("Gets the data returned by the current sleep monitor")])]),t._v(" "),a("tr",[a("td",[t._v("historySleepChange")]),t._v(" "),a("td",[t._v("2")]),t._v(" "),a("td",[t._v("Gets the data returned by the historical sleep monitor")])])])]),t._v(" "),a("p",[t._v("SleepInfo：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("callback value")]),t._v(" "),a("th",[t._v("callback value type")]),t._v(" "),a("th",[t._v("callback value description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("sleepStateRem")]),t._v(" "),a("td",[t._v("int")]),t._v(" "),a("td",[t._v("3")])]),t._v(" "),a("tr",[a("td",[t._v("sleepStateRestful")]),t._v(" "),a("td",[t._v("int")]),t._v(" "),a("td",[t._v("2")])]),t._v(" "),a("tr",[a("td",[t._v("sleepStateLight")]),t._v(" "),a("td",[t._v("int")]),t._v(" "),a("td",[t._v("1")])]),t._v(" "),a("tr",[a("td",[t._v("sleepStateSober")]),t._v(" "),a("td",[t._v("int")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("totalTime")]),t._v(" "),a("td",[t._v("int")]),t._v(" "),a("td",[t._v("Total sleep time")])]),t._v(" "),a("tr",[a("td",[t._v("restfulTime")]),t._v(" "),a("td",[t._v("int")]),t._v(" "),a("td",[t._v("restful time")])]),t._v(" "),a("tr",[a("td",[t._v("lightTime")]),t._v(" "),a("td",[t._v("int")]),t._v(" "),a("td",[t._v("light time")])]),t._v(" "),a("tr",[a("td",[t._v("soberTime")]),t._v(" "),a("td",[t._v("int")]),t._v(" "),a("td",[t._v("awake time")])]),t._v(" "),a("tr",[a("td",[t._v("remTime")]),t._v(" "),a("td",[t._v("int")]),t._v(" "),a("td",[t._v("rem time")])])])]),t._v(" "),a("p",[t._v("HistorySleepBean：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("callback value")]),t._v(" "),a("th",[t._v("callback value type")]),t._v(" "),a("th",[t._v("callback value description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("timeType")]),t._v(" "),a("td",[t._v("int")]),t._v(" "),a("td",[t._v("days,from HistoryTimeType")])]),t._v(" "),a("tr",[a("td",[t._v("sleepInfo")]),t._v(" "),a("td",[t._v("SleepInfo")]),t._v(" "),a("td",[t._v("Specifies the user's historical sleep information for the date type")])])])]),t._v(" "),a("p",[t._v("Parameter Description :")]),t._v(" "),a("p",[t._v("HistoryTimeType:")]),t._v(" "),a("p",[t._v("Use yesterdaySleep and dayBeforeYesterdaySleep parameters.")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("value")]),t._v(" "),a("th",[t._v("value type")]),t._v(" "),a("th",[t._v("value description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("yesterdaySteps")]),t._v(" "),a("td",[t._v("int")]),t._v(" "),a("td",[t._v("1")])]),t._v(" "),a("tr",[a("td",[t._v("dayBeforeYesterdaySteps")]),t._v(" "),a("td",[t._v("int")]),t._v(" "),a("td",[t._v("2")])]),t._v(" "),a("tr",[a("td",[t._v("yesterdaySleep")]),t._v(" "),a("td",[t._v("int")]),t._v(" "),a("td",[t._v("3")])]),t._v(" "),a("tr",[a("td",[t._v("dayBeforeYesterdaySleep")]),t._v(" "),a("td",[t._v("int")]),t._v(" "),a("td",[t._v("4")])])])]),t._v(" "),a("h2",{attrs:{id:"gets-today-s-sleep"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gets-today-s-sleep"}},[t._v("#")]),t._v(" Gets today's sleep")]),t._v(" "),a("p",[t._v("The sleep clear time of the watch is 8 pm, and the sleep time recorded by the watch is from 8 pm to 10 am the next day.")]),t._v(" "),a("p",[t._v("Gets detailed data for a training. The query result will be obtained through the sleepChangeEveStm listening stream and saved in the SleepBean.sleepInfo field.")]),t._v(" "),a("div",{staticClass:"language-dart extra-class"},[a("pre",{pre:!0,attrs:{class:"language-dart"}},[a("code",[t._v("_blePlugin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("querySleep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"gets-historical-sleep"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gets-historical-sleep"}},[t._v("#")]),t._v(" Gets historical sleep")]),t._v(" "),a("p",[t._v("The watch can save the sleep data of the past three days, and can query the sleep data of a certain day.")]),t._v(" "),a("p",[t._v("Gets the sleep data of a certain day. The query result will be obtained through the sleepChangeEveStm listening stream and saved in the SleepBean.past field and the SleepBean.pastSleepInfo field.")]),t._v(" "),a("div",{staticClass:"language-dart extra-class"},[a("pre",{pre:!0,attrs:{class:"language-dart"}},[a("code",[t._v("_blePlugin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("queryHistorySleep")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HistoryTimeType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}),[],!1,null,null,null);e.default=n.exports}}]);